mutation createPost($title: String!, $text: String!, $image: String!) {
  createPosts(createPostDto: { title: $title, text: $text, image: $image }) {
    response {
      message
      error
      status
    }
    post {
      id
      title
      text
    }
  }
}

mutation createComment($text: String!, $postId: Float!, $parentId: Float) {
  createComment(createCommentDto: { text: $text, postId: $postId, parentId: $parentId }) {
    id
    text
    userId
    postsId
    parentId
    replyCount
  }
}

query findAllPosts($skip: Int!, $take: Int!) {
  findAllPosts(paginationInput: { skip: $skip, take: $take }) {
    total
    items {
      id
      title
      text
      image
      userId
      createdAt
      user {
        name
        email
      }
      comments {
        id
        text
        userId
        postsId
        parentId
        replyCount
        user {
          name
          email
        }
        createdAt
      }
      user {
        name
        email
      }
    }
  }
}

query findPostById($id: Float!) {
  findPostById(id: $id) {
    response {
      message
      error
      status
    }
    post {
      id
      title
      text
      image
      userId
      createdAt
      user {
        name
        email
      }
      comments {
        id
        text
        userId
        postsId
        parentId
        replyCount
        user {
          name
          email
        }
        createdAt
      }
    }
  }
}

query replies($commentId: Float!) {
  replies(commentId: $commentId) {
    id
    text
    userId
    postsId
    parentId
    replyCount
    user {
      name
      email
    }
    createdAt
  }
}

query getPosts($search: String!) {
  getPosts(search: $search, paginationInput: { skip: 0, take: 1 }) {
    id
    title
    text
    image
    userId
    user {
      name
      email
    }
    createdAt
  }
}
